- if(typeof user != 'undefined')
  - var user = user;
  - var post_action = user.id + '/update';
- else
  - var user = {};
  - var post_action = 'create';

form(action='/user/'+post_action, method='post')

  - if(typeof user != 'undefined')
    input(type='hidden', name='user[_id]', value=user.id)

  input(type='hidden', name='user[user_type]', value='Teacher')

  div
    label(for='fname') First Name:
    input(type='text', name='user[name][first]', id='fname', value=user.firstname)

  div
    label(for='lname') Last Name:
    input(type='text', name='user[name][last]', id='lname', value=user.lastname)

  div
    label(for='email') Email:
    input(type='text', name='user[email]', id='email', value=user.email)

  div
    label(for='uname') Username:
    input(type='text', name='user[username]', id='uname', value=user.username)

  - if(typeof user != 'undefined')
    div
      label(for='cpw') Current Password:
      input(type='password', id='cpw', name='user[current_password]')
    div
      label(for='npw') New Password:
      input(type='password', id='npw', name='user[password]')
    div
      label(for='cnpw') Confirm New Password:
      input(type='password', id='cnpw', name='user[confirm_password]')
  - else
    div
      label(for='pw') Password:
      input(type='password', id='pw', name='user[password]')
    div
      label(for='confpw') Confirm Password:
      input(type='password', id='confpw', name='user[confirm_password]')

  input(type='submit', value='Save')
